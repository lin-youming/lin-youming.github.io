<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" name="viewport" />
    <link rel="alternate icon" type="image/png" href="/img/favicon.png">
    <title>Lin YouMing&#39;s blogs | </title>
    
<link rel="stylesheet" href="/css/reset.css">

    
<link rel="stylesheet" href="/css/style.css">

    
<link rel="stylesheet" href="/css/markdown.css">

    
<link rel="stylesheet" href="/css/fonts.css">

<meta name="generator" content="Hexo 6.3.0"></head>
    <body>
        <div class="paper">
            <div class="paper-main">
                
                    <div class="post-header">
    <a class="logo" href="/">Lin YouMing&#39;s blogs</a>
    <a class="go-home" href="/">
        <svg width="8" height="14" viewBox="0 0 8 14">
            <path d="M7 1L1 7l6 6" stroke="#000" stroke-width="2" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
    </a>
</div>
                
                <div class="post-main">

    
    
        <div class="post-main-title">
            docker常用命令记录
        </div>
        <div class="post-meta">
            2021-03-14
        </div>
        <div class="post-md">
            <h2 id=""><a href="#" class="headerlink" title=""></a></h2><h2 id="一、docker常用命令"><a href="#一、docker常用命令" class="headerlink" title="一、docker常用命令"></a><strong>一、docker常用命令</strong></h2><pre><code class="java">docker --help 			#查看docker命令
docker info 			#docker 详细信息，镜像和容器
docker version 			#查看docker版本
docker ps   			#查看docker容器运行情况
docker restart nginx	#docker重启nginx   stop start 以及其他容器名
</code></pre>
<h2 id="二、镜像命令"><a href="#二、镜像命令" class="headerlink" title="二、镜像命令"></a><strong>二、镜像命令</strong></h2><img src="https://pic-1301150022.cos.ap-guangzhou.myqcloud.com/img/1001.png" style="zoom:67%;" />

<pre><code class="java">docker images 	# 查看docker镜像；

REPOSITORY		#镜像仓库源                
TAG				#镜像的标签                 
IMAGE ID		#镜像id            
CREATED			#创建时间             
SIZE			#大小
</code></pre>
<p>同一个仓库源可以有多个TAG，表示这个仓库源的不同版本，我们使用<code>REPOSITORY:TAG</code>来定义不同的镜像。如果不指定一个镜像的版本标签，例如只使用tomcat，docker将默认使用<code>tomcat:latest</code>镜像</p>
<pre><code class="java">docker images -a			#列出本地所有的镜像
docker images -q			#只显示镜像ID
docker images --digests		#显示镜像的摘要信息
docker images --no-trunc	#显示完整的镜像信息
</code></pre>
<p>删除镜像命令</p>
<pre><code class="java">##单个镜像删除，相当于：docker rmi redis:latest
docker rmi redis
##强制删除(针对基于镜像有运行的容器进程)
docker rmi -f redis
##多个镜像删除，不同镜像间以空格间隔
docker rmi -f redis tomcat nginx
##删除本地全部镜像
docker rmi -f $(docker images -q)
</code></pre>
<h2 id="三、容器命令"><a href="#三、容器命令" class="headerlink" title="三、容器命令"></a><strong>三、容器命令</strong></h2><p>容器启动与停止</p>
<pre><code class="java">##新建并启动容器，参数：-i  以交互模式运行容器；-t  为容器重新分配一个伪输入终端；--name  为容器指定一个名称
docker run -i -t --name xxxxx
##后台启动容器，参数：-d  已守护方式启动容器
docker run -d xxxxxx

#启动或者停止容器
docker start 容器id
docker restart 容器id
docker kill 容器id
docker stop 容器id
</code></pre>
<p>容器进入与退出</p>
<pre><code class="java">##使用run方式在创建时进入
docker run -it centos /bin/bash
##关闭容器并退出
exit
</code></pre>
<p>容器日志</p>
<pre><code class="java">##查看redis容器日志，默认参数
docker logs rabbitmq
##查看redis容器日志，参数：-f  跟踪日志输出；-t   显示时间戳；--tail  仅列出最新N条容器日志；
docker logs -f -t --tail=20 redis
##查看容器redis从2021年08月10日后的最新10条日志。
docker logs --since=&quot;2021-08-10&quot; --tail=10 redis
</code></pre>
<pre><code class="java">##进入当前正在运行的容器
docker exec -it 容器id /bin/bash
##容器内拷贝文件到主机
docker cp 容器id:容器内路径  目的主机路径 
</code></pre>

        </div>

    

</div>
                <div class="footer">
    <span>Copyright © 2022 Lin YouMing&#39;s blogs</span>
    <!-- <span>Theme Designed By <a target="_blank" href="https://zheli.design/one-paper">這李設計</a></span> -->
</div>


<link rel="stylesheet" href="/css/a11y-dark.min.css">


<script src="/js/highlight.min.js"></script>


<script src="/js/highlightjs-line-numbers.js"></script>


<script>
    hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
</script>

            </div>
        </div>
    </body>
</html>